rabbit:

    users:
        dan:
            admin: false
            password: torrance
        foo:
            password: bar
        baz:

    vhosts:
        - storage_in
        - storage_out


    permissions:
        dan@storage_in:
            configure: .*
            write: .*
            read: .*
        dan@storage_out:
            configure: .*
            write: .*
            read: .*

    exchanges:
        storage.in@storage_in:
            type: topic
            durable: true
            auto_delete: false
            internal: false
            arguments:
                hash-header: message-distribution-hash
        storage.out@storage_out:

    queues:
        storage-in@storage_in:
            durable: true
            auto_delete: false
            arguments:
                x-message-ttl: 123
                x-dead-letter-exchange: other
        storage-out@storage_out:

    bindings:
        storage.in@storage-in@storage_in:
            destination: queue
            routing_key: \#

        storage.out@storage-out@storage_out:
            destination: queue
